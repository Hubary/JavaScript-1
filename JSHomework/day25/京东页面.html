<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="GB2312">
    <title>京东页面</title>
    <style>
        *{margin: 0;padding: 0;}

        body{background: #f6f6f6;}

        #container{width: 1190px;height: 480px;margin: 100px auto;display: flex;justify-content: space-between;}

        #container .cate{position: relative;height: 480px;}
        #container .cate .list{width: 190px;height: 448px;padding: 16px 0;background: #6e6568;}
        #container .cate .list>li{font: 14px/28px "";padding-left: 12px;list-style: none;color: #fff;}
        #container .cate .list>li>a{color: #fff;text-decoration: none;}
        #container .cate .jsonInfo{position: absolute;left: 190px;width: 1000px;border: 1px solid #f7f7f7;background: #f7f7f7;box-sizing:border-box;box-shadow: 2px 0 5px rgba(0,0,0,.3);}

        #container .slider{width: 790px;background: #f99;}

        #container .login{width: 190px;background: #9f9;}

    </style>
</head>
<body>
    <div id="container">
        <div class="cate">
            <!--菜单栏-->
            <ul class="list">
                <!--<li></li>-->
            </ul>
            <!--接口数据显示-->
            <div class="jsonInfo">

            </div>
        </div>
        <!--轮播图-->
        <div class="slider">

        </div>
        <!--右侧登录栏-->
        <div class="login">

        </div>
    </div>

</body>
</html>
<script>
    /**
     *京东页面.html
     *author:jessie-zly
     *2017/11/1
     *description: 搜索框+侧栏菜单+轮播图
     */

    //菜单栏接口
    let url = "https://dc.3.cn/category/get?callback=getCategoryCallback";
    //轮播图接口
    let url2 = "https://f.3.cn/bi/focus_aggr/get?callback=jsonpCallbackFocus&pin=&uuid=1509504360218975710070&_=1509709318152";

    window.onload=function () {
        //
        let newScript = document.createElement("script");
        newScript.src = "https://dc.3.cn/category/get?callback=getCategoryCallback";
        document.body.appendChild(newScript);
        document.body.removeChild(newScript);
        /**
         * 处理数据
         */
        window.getCategoryCallback = function (res) {
            console.log(res);
            //
            let list = document.querySelector(".list")
            //遍历data
            for (let i in res.data) {
                //遍历数组s
                let cateName = res.data[i].s.map(function (value) {
                    //返回截取的字符串,并用a标签包裹
                    return `<a href="#">${value.n.match(/\|(\S*)\|\|/)[1]}</a>`;
//                    return `<a href="#">${value.n.match(/[^|]+/g)[1]}</a>`;
                });
                //判断长度是否为1,是1则直接返回字符串,否则以'/'分隔
                let strCate = cateName.length == 1 ? cateName.join("") : cateName.join(" / ");
                //输出到ul中
                list.innerHTML+=`<li>${strCate}</li>`;


            }
        }

    }

</script>