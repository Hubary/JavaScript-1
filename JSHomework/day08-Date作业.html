<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>day08-Date作业</title>
    <style>
        #localTime {
            width: 200px;
            box-shadow: 0 0 5px #f00;
        }

        #localTime2 {
            width: 250px;
            box-shadow: 0 0 5px #0f0;
        }

        #localTime3 {
            width: 500px;
            box-shadow: 0 0 5px #f99;
        }
    </style>
</head>
<body>
<div id="localTime"></div>
<div id="localTime2"></div>
<div id="localTime3"></div>
</body>
</html>
<script src="../Encapsulation/encap.js"></script>
<script>
    /**
     * 1.动态显示当前时间
     * 格式:xxxx年xx月xx日 xx时xx分xx秒
     */
        //定时器
    var Timer = null;

    function timeNow() {
        //关闭
        clearInterval(Timer);
        //
        Timer = setInterval(function () {
            //输出
            localTime.innerHTML = dateToString(new Date(), ":", 2);
        }, 1000);

    }

    timeNow();

    /**
     * 方法2
     */
    var Timer2 = null;

    function timeNow2() {
        clearInterval(Timer2);
        Timer2 = setInterval(function () {
            var date = new Date();
            //月日时分秒,按2位前置补0并拼接
            localTime2.innerHTML = date.getFullYear() + "年" + addPrefixZero((date.getMonth() + 1), 2) + "月" + addPrefixZero(date.getDay(), 2) + "日" + " " + addPrefixZero(date.getHours(), 2) + "时" + addPrefixZero(date.getMinutes(), 2) + "分" + addPrefixZero(date.getSeconds(), 2) + "秒";
        }, 1000);
    }

    timeNow2();


    /**
     * 2.倒计时
     * 商品截止时间为：2017年03月31日 00时00分00秒
     * 在页面上显示倒计时（格式为：xx天xx时xx分xx秒）
     */

    var Timer3 = null;

    function reverseDate() {
        var date1 = new Date("2017-10-20 00:00:00");
        var date2 = new Date();
        //
        clearInterval(Timer3);
        //
        Timer3 = setInterval(function () {
            //相差的天数
            var day = valueOfTwoDate(date1, date2);
            //小时数
            var hour = parseInt(Math.abs((date1.getTime() - day * 24 * 3600 * 1000) / 1000 / 3600));
            //分
            var minutes = parseInt(Math.abs((date1.getTime() - day * 24 * 3600 * 1000 - hour * 3600) / 1000 / 60));
            //秒
            var second = parseInt(Math.abs((date1.getTime() - day * 24 * 3600 * 1000 - hour * 3600 - minutes * 60) / 1000));
            //
            localTime3.innerHTML = addPrefixZero(day, 2) + "天" + addPrefixZero(hour, 2) + "时" + addPrefixZero(minutes, 2) + "分" + addPrefixZero(second, 2) + "秒";
        }, 1000);

    }

    //
    reverseDate();







    /**
     * 3.计算两个日期时间差值(天数)
     */
    function valueOfTwoDate(date1, date2) {
        return Math.abs(date1.getTime() - date2.getTime()) / 1000 / 3600 / 24;
    }

    //测试
    var date1 = new Date("2018-01-01");
    var date2 = new Date("2019-07-17");
    console.log(valueOfTwoDate(date1, date2));


    /**
     * 4.计时器
     */

    /**
     * 5.写一个时钟
     * 详情请看作业视频
     */

    /**
     * 6.数码时钟
     * 详情请看作业自带的图片
     */

</script>